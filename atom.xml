<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://zhx6.github.io</id>
    <title>皮皮虎&apos;s Blog</title>
    <updated>2021-12-28T17:05:55.403Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://zhx6.github.io"/>
    <link rel="self" href="https://zhx6.github.io/atom.xml"/>
    <subtitle>出言有尺，嬉闹有度，做事有余，说话有德。</subtitle>
    <logo>https://zhx6.github.io/images/avatar.png</logo>
    <icon>https://zhx6.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, 皮皮虎&apos;s Blog</rights>
    <entry>
        <title type="html"><![CDATA[Python float乘法运算小数点后会出现很多位小数问题]]></title>
        <id>https://zhx6.github.io/post/python-float-cheng-fa-yun-suan-xiao-shu-dian-hou-hui-chu-xian-hen-duo-wei-xiao-shu-wen-ti/</id>
        <link href="https://zhx6.github.io/post/python-float-cheng-fa-yun-suan-xiao-shu-dian-hou-hui-chu-xian-hen-duo-wei-xiao-shu-wen-ti/">
        </link>
        <updated>2021-12-28T17:00:24.000Z</updated>
        <content type="html"><![CDATA[<h2 id="前言">前言</h2>
<p>说实话 这问题挺艹蛋的，我调试了半天，发现是Python所有浮点数规范遵从IEEEE754二进制浮点数算术标准（ANSI/IEEE Std 754-1985），说一下我想实现什么吧，就是出价的数字<br>
<code>出价 78.6 换算成程序出价是要乘个100000 真实结果：7860000</code></p>
<h2 id="错误代码">错误代码</h2>
<p><code>(78 + round(random.uniform(1, 0), 2)) * 100000</code></p>
<h3 id="运行结果">运行结果</h3>
<p><code>7880000.0 7816000.0 7859000.0 7834999.999999999 7820999.999999999 7859999.999999999</code><br>
这肯定不对的啊.....<br>
后来查到一篇文章讲了这个 https://xufive.blog.csdn.net/article/details/103816159<br>
真是太恶心了</p>
<h2 id="解决方法">解决方法</h2>
<p><code>from decimal import * Decimal((78 + round(random.uniform(1, 0), 2)) * 100000).quantize(Decimal('0'))</code><br>
用了Decimal模块完美解决此问题</p>
<h3 id="结果">结果</h3>
<p><code>7844000 7898000 7900000 7825000 7872000 7843000 7810000 7866000 7807000 7836000 7826000 7803000 7832000 7868000 7851000 7868000</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[国内开源镜像站点汇总]]></title>
        <id>https://zhx6.github.io/post/guo-nei-kai-yuan-jing-xiang-zhan-dian-hui-zong/</id>
        <link href="https://zhx6.github.io/post/guo-nei-kai-yuan-jing-xiang-zhan-dian-hui-zong/">
        </link>
        <updated>2021-12-28T16:47:09.000Z</updated>
        <content type="html"><![CDATA[<h2 id="站点版">站点版</h2>
<h3 id="企业站">企业站</h3>
<p>搜狐：http://mirrors.sohu.com/<br>
腾讯：https://mirrors.cloud.tencent.com//<br>
网易：http://mirrors.163.com/<br>
阿里：http://mirrors.aliyun.com/<br>
华为：https://mirrors.huaweicloud.com/</p>
<h3 id="教育站">教育站</h3>
<p>上海交通大学：http://ftp.sjtu.edu.cn/html/resources.xml（部分移动运营商出口状况不佳，无法访问）<br>
华中科技大学：http://mirror.hust.edu.cn/（当前已用容量估计：4.83T）<br>
清华大学：http://mirrors.tuna.tsinghua.edu.cn/（当前已用容量估计：9.8T）<br>
北京理工大学：http://mirror.bit.edu.cn/web/<br>
兰州大学：http://mirror.lzu.edu.cn/<br>
中国科技大学：http://mirrors.ustc.edu.cn/（当前已用容量估计：21.32T）<br>
大连东软信息学院：http://mirrors.neusoft.edu.cn/（当前已用容量估计：2.5T）<br>
东北大学：http://mirror.neu.edu.cn/<br>
大连理工大学：http://mirror.dlut.edu.cn/<br>
哈尔滨工业大学：http://run.hit.edu.cn/html/（部分联通运营商出口状况不佳，无法访问）<br>
北京交通大学：http://mirror.bjtu.edu.cn/cn/<br>
中国地质大学：http://mirrors.cug.edu.cn/（当前已用容量估计：2.3T）<br>
浙江大学：http://mirrors.zju.edu.cn/<br>
厦门大学：http://mirrors.xmu.edu.cn/<br>
中山大学：http://mirror.sysu.edu.cn/<br>
重庆大学：http://mirrors.cqu.edu.cn/（当前已用容量估计：3.93T）<br>
北京化工大学：http://ubuntu.buct.edu.cn/（AndroidSDK镜像仅供校内使用，当前已用容量估计：1.72T）<br>
南阳理工学院：http://mirror.nyist.edu.cn/<br>
中国科学院：http://www.opencas.org/mirrors/<br>
电子科技大学星辰工作室：http://mirrors.stuhome.net/（当前已用容量估计：1.08T）<br>
西北农林科技大学：http://mirrors.nwsuaf.edu.cn/（只做CentOS镜像，当前已用容量估计：140GB）</p>
<h3 id="其他站">其他站</h3>
<p>首都在线科技股份有限公司（英文名CapitalOnlineDataService）：http://mirrors.yun-idc.com/<br>
常州贝特康姆软件技术有限公司：http://centos.bitcomm.cn/（只做CentOS镜像，当前已用容量估计：140GB）<br>
公云PubYun（母公司为贝特康姆）：http://mirrors.pubyun.com/<br>
中国互联网络信息中心：http://mirrors.cnnic.cn/（只做Apache镜像，当前已用容量估计：120GB）</p>
<h2 id="软件版">软件版</h2>
<h3 id="操作系统类">操作系统类</h3>
<h4 id="ubuntu">Ubuntu</h4>
<p>阿里云：http://mirrors.aliyun.com/ubuntu-releases/<br>
网易：http://mirrors.163.com/ubuntu-releases/<br>
搜狐：http://mirrors.sohu.com/ubuntu-releases/（搜狐在12年之后似乎不同步了）<br>
首都在线科技股份有限公司：http://mirrors.yun-idc.com/ubuntu-releases/</p>
<h4 id="centos">CentOS</h4>
<p>网易：http://mirrors.163.com/centos/<br>
搜狐：http://mirrors.sohu.com/centos/<br>
阿里云：http://mirrors.aliyun.com/centos/</p>
<h4 id="tomcat-apache">Tomcat、Apache</h4>
<p>中国互联网络信息中心：http://mirrors.cnnic.cn/apache/<br>
华中科技大学：http://mirrors.hust.edu.cn/apache/</p>
<h4 id="mysql">MySQL</h4>
<p>搜狐：http://mirrors.sohu.com/mysql<br>
中国科技技术大学：http://mirrors.ustc.edu.cn/mysql-ftp/Downloads</p>
<h4 id="postgresql">PostgreSQL</h4>
<p>浙江大学：http://mirrors.zju.edu.cn/postgresql/</p>
<h4 id="mariadb">MariaDB</h4>
<p>中国科技技术大学：https://mirrors.ustc.edu.cn/mariadb/</p>
<h4 id="videolan">VideoLAN</h4>
<p>大连东软信息学院：http://mirrors.neusoft.edu.cn/videolan/<br>
中国科技大学：http://mirrors.ustc.edu.cn/videolan-ftp/</p>
<h3 id="开发工具类">开发工具类</h3>
<h4 id="eclipse">Eclipse</h4>
<p>中国科技大学：http://mirrors.ustc.edu.cn/eclipse/<br>
东北大学B：http://mirror.neu.edu.cn/eclipse/</p>
<h2 id="官方镜像列表状态地址">官方镜像列表状态地址</h2>
<p>CentOS：http://mirror-status.centos.org/#cn<br>
Archlinux：https://www.archlinux.org/mirrors/status/<br>
Ubuntu：https://launchpad.net/ubuntu/+cdmirrors<br>
Debian：http://mirror.debian.org/status.html<br>
FedoraLinux/FedoraEPEL：https://admin.fedoraproject.org/mirrormanager/mirrors<br>
Apache：http://www.apache.org/mirrors/#cn<br>
Cygwin：https://www.cygwin.com/mirrors.html</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Python在Linux后台运行]]></title>
        <id>https://zhx6.github.io/post/python-zai-linux-hou-tai-yun-xing/</id>
        <link href="https://zhx6.github.io/post/python-zai-linux-hou-tai-yun-xing/">
        </link>
        <updated>2021-12-28T16:32:57.000Z</updated>
        <content type="html"><![CDATA[<h2 id="前言">前言</h2>
<p>写了一个python任务脚本，需要一直运行，刚开始使用了宝塔应用管理器和python管理器，都会出现运行着就停止运行的情况，而且上面还是显示在运行着....于是打算直接使用nohup运行</p>
<h2 id="方法">方法</h2>
<ul>
<li>先进入脚本文件的根目录<br>
<code>cd /www/Python/Auto/qianchuan/jiankong</code></li>
<li>使用nohup运行<br>
<code>nohup python -u main.py &gt; message.log 2&gt;&amp;1 &amp;</code></li>
</ul>
<h2 id="解释">解释</h2>
<h3 id="nohup-和-的区别">nohup 和 &amp; 的区别</h3>
<ol>
<li>&amp;<br>
是指在后台运行，但当用户退出(挂起)的时候，命令自动也跟着退出</li>
<li>nohup</li>
</ol>
<p>运行 nohup --help<br>
Run COMMAND, ignoring hangup signals. 可以看到是“运行命令，忽略挂起信号”就是不挂断的运行，注意没有后台运行功能。</p>
<p>那么，我们可以巧妙的吧他们结合起来用就是<br>
nohup COMMAND &amp;<br>
这样就能使命令永久的在后台执行</p>
<h3 id="-u">-u</h3>
<p>python的输出进行了缓冲，导致message.log并不能够马上看到输出。<br>
为python添加-u 参数，使得python不启用缓冲。</p>
<h3 id="messagelog">message.log</h3>
<p>如果不填写的话，系统默认是写入到运行文件同位置output.out文件内，填写的话则会重定向到指定的文件</p>
<h3 id="21">2&gt;&amp;1</h3>
<ul>
<li>0 表示stdin标准输入，用户键盘输入的内容</li>
<li>1 表示stdout标准输出，输出到显示屏的内容</li>
<li>2 表示stderr标准错误，报错内容</li>
</ul>
<blockquote>
<p>2&gt;&amp;1是一个整体，&gt;左右不能有空格，即将错误内容重定向输入到标准输出中去。<br>
2&gt;&amp;1中的&amp;是为了区别文件1和1(标准输出)，假如为2&gt;1，就成了将错误内容输出到文件1中，而不是标准输出中。</p>
</blockquote>
<h2 id="其他">其他</h2>
<p>挂起后台进程以后想查看是否运行或者关闭该怎么办呢？别急，我们继续。</p>
<h2 id="查看进程">查看进程</h2>
<p><code>ps aux | grep main.py</code><br>
<img src="https://zhx6.github.io/post-images/1640709726260.png" alt="查看进程PID" loading="lazy"><br>
main.py 是运行的文件<br>
可以看到PID是12526</p>
<h2 id="关闭进程">关闭进程</h2>
<p><code>kill -9 12526</code></p>
<h2 id="实时追踪文件输出到屏幕">实时追踪文件输出到屏幕</h2>
<p><code>tailf message.log</code></p>
]]></content>
    </entry>
</feed>